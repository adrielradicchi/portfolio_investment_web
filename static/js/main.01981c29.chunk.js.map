{"version":3,"sources":["services/auth.js","styles/global.js","assets/elixir-lang-ar21.svg","pages/SignUp/styles.js","services/api.js","pages/SignUp/index.js","pages/SignIn/styles.js","pages/SignIn/index.js","routes.js","App.js","index.js"],"names":["TOKEN_KEY","login","token","localStorage","setItem","GlobalStyle","createGlobalStyle","props","theme","fontFamily","Container","styled","div","Form","form","api","axios","create","baseURL","timeout","headers","SignUp","state","name","email","password","investment_limit","usa_stock_limit","error","handleSignUp","e","preventDefault","alert","a","setState","post","history","push","console","log","onSubmit","this","src","Logo","alt","type","placeholder","onChange","target","value","step","min","to","Component","withRouter","SignIn","handleSignIn","response","data","PrivateRoute","component","rest","render","getItem","pathname","from","location","Routes","basename","process","exact","path","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.01981c29.chunk.js","sourcesContent":["export const TOKEN_KEY = null;\nexport const isAuthenticated = () => localStorage.getItem(TOKEN_KEY) !== null;\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\nexport const login = token => {\n  localStorage.setItem(TOKEN_KEY, token);\n};\nexport const logout = () => {\n  localStorage.removeItem(TOKEN_KEY);\n};","import { createGlobalStyle } from \"styled-components/macro\";\n\nimport \"font-awesome/css/font-awesome.css\";\n\nconst GlobalStyle = createGlobalStyle`\n* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n  outline: 0;\n}\nbody, html {\n  background: #eee;\n  font-family: ${props => props.theme.fontFamily ? props.theme.fontFamily : \"'Helvetica Neue', 'Helvetica', Arial, sans-serif\"};\n  text-rendering: optimizeLegibility !important;\n  -webkit-font-smoothing: antialiased !important;\n  height: 100%;\n  width: 100%;\n}\n`;\n\nexport default GlobalStyle;","export default __webpack_public_path__ + \"static/media/elixir-lang-ar21.244d1db9.svg\";","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n`;\n\nexport const Form = styled.form`\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n`;","import axios from \"axios\";\n\n// axios.defaults.headers.common['Access-Control-Request-Method'] = \"POST, GET, PUT, DELETE\"\n\nconst api = axios.create({\n  baseURL: 'http://enigmatic-springs-21467.herokuapp.com/api',\n  timeout: 3000,\n  headers: {'Content-Type' : 'application/x-www-form-urlencoded', \n             'Common': {\n              'Access-Control-Request-Method' : \"POST, GET, PUT, DELETE\",\n              'Access-Control-Allow-Origin': '*'\n             }\n          } \n});\n\n\n\nexport default api;","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport Logo from \"../../assets/elixir-lang-ar21.svg\";\nimport { Form, Container } from \"./styles\";\n\nimport api from \"../../services/api\";\n\nclass SignUp extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    investment_limit: \"\",\n    usa_stock_limit: \"\",\n    error: \"\"\n  };\n\n  handleSignUp = e => {\n    e.preventDefault();\n    alert(\"Eu vou te registrar\");\n  };\n\n  render() {\n    return (\n      <Container>\n        <Form onSubmit={this.handleSignUp}>\n          <img src={Logo} alt=\"Portfolio Investment logo\" />\n          {this.state.error && <p>{this.state.error}</p>}\n          <input\n            type=\"text\"\n            placeholder=\"Nome de usuário\"\n            onChange={e => this.setState({ name: e.target.value })}\n          />\n          <input\n            type=\"email\"\n            placeholder=\"Endereço de e-mail\"\n            onChange={e => this.setState({ email: e.target.value })}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Senha\"\n            onChange={e => this.setState({ password: e.target.value })}\n          />\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            min=\"0\"\n            placeholder=\"Limite de investimento\"\n            onChange={e => this.setState({ investment_limit: e.target.value })}\n          />\n          <input\n            type=\"number\"\n            step=\"1\"\n            min=\"0\"\n            placeholder=\"Limite de compras para ações Americanas\"\n            onChange={e => this.setState({ usa_stock_limit: e.target.value })}\n          />\n          <button type=\"submit\">Cadastrar grátis</button>\n          <hr />\n          <Link to=\"/\">Fazer login</Link>\n        </Form>\n      </Container>\n    );\n  }\n\n  handleSignUp = async e => {\n    e.preventDefault();\n    const { name, email, password, investment_limit, usa_stock_limit} = this.state;\n    if (!name || !email || !password || !investment_limit || !usa_stock_limit) {\n      this.setState({ error: \"Preencha todos os dados para se cadastrar\" });\n    } else {\n      try {\n        await api.post(\"/users\", { name, email, password, investment_limit, usa_stock_limit });\n        this.props.history.push(\"/\");\n      } catch (err) {\n        console.log(err);\n        this.setState({ error: \"Ocorreu um erro ao registrar sua conta. T.T\" });\n      }\n    }\n  };\n}\n\nexport default withRouter(SignUp);","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n`;\n\nexport const Form = styled.form`\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n`;","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport Logo from \"../../assets/elixir-lang-ar21.svg\";\nimport api from \"../../services/api\";\nimport { login } from \"../../services/auth\";\n\nimport { Form, Container } from \"./styles\";\n\nclass SignIn extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    error: \"\"\n  };\n\n  handleSignIn = async e => {\n    e.preventDefault();\n    const { email, password } = this.state;\n    if (!email || !password) {\n      this.setState({ error: \"Preencha e-mail e senha para continuar!\" });\n    } else {\n      try {\n        const response = await api.post(\"/sessions\", { email, password });\n        login(response.data.token);\n        this.props.history.push(\"/app\");\n      } catch (err) {\n        this.setState({\n          error:\n            \"Houve um problema com o login, verifique suas credenciais. T.T\"\n        });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <Container>\n        <Form onSubmit={this.handleSignIn}>\n          <img src={Logo} alt=\"Airbnb logo\" />\n          {this.state.error && <p>{this.state.error}</p>}\n          <input\n            type=\"email\"\n            placeholder=\"Endereço de e-mail\"\n            onChange={e => this.setState({ email: e.target.value })}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Senha\"\n            onChange={e => this.setState({ password: e.target.value })}\n          />\n          <button type=\"submit\">Entrar</button>\n          <hr />\n          <Link to=\"/signup\">Criar conta grátis</Link>\n        </Form>\n      </Container>\n    );\n  }\n}\n\nexport default withRouter(SignIn);","import React from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { ThemeProvider } from 'styled-components'\nimport { isAuthenticated } from \"./services/auth\";\nimport GlobalStyle from \"./styles/global\"\nimport SignUp from \"./pages/SignUp\";\nimport SignIn from \"./pages/SignIn\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticated() ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\n      )\n    }\n  />\n);\n\nconst Routes = () => (\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <ThemeProvider theme={{}}>\n        <GlobalStyle/>\n        <Switch>\n          <Route exact path=\"/\" component={SignIn} />\n          <Route path=\"/signup\" component={SignUp} />\n          <PrivateRoute path=\"/app\" component={() => <h1>App</h1>} />\n          <Route path=\"*\" component={() => <h1>Page not found</h1>} />\n        </Switch>\n    </ThemeProvider>\n  </BrowserRouter>\n);\n\nexport default Routes;","import React from \"react\";\nimport Routes from \"./routes\";\n\nconst App = () => (<Routes />);\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}